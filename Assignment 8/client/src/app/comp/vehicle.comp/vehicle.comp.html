<div class="vehicle-container">
  <!-- üîç Filter Bar -->
  <div class="filter-bar">
    <span>Show:</span>
    <a
      [routerLink]="[]"
      [queryParams]="{ filter: '' }"
      [class.active]="!route.snapshot.queryParams['filter']"
      >All</a
    >
    |
    <a
      [routerLink]="[]"
      [queryParams]="{ filter: 'available' }"
      [class.active]="route.snapshot.queryParams['filter'] === 'available'"
      >Available</a
    >
    |
    <a
      [routerLink]="[]"
      [queryParams]="{ filter: 'unavailable' }"
      [class.active]="route.snapshot.queryParams['filter'] === 'unavailable'"
      >Unavailable</a
    >
  </div>

  <!-- üöò Vehicle List -->
  <div class="vehicle-list">
    <h2>Vehicle List</h2>
    <table class="vehicle-table">
      <thead>
        <tr>
          <th>Vehicle Number</th>
          <th>Type</th>
          <th>Capacity</th>
          <th>Available</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let vehicle of vehicles">
          <td>{{ vehicle.vehicleNumber }}</td>
          <td>{{ vehicle.type }}</td>
          <td>{{ vehicle.capacity }}</td>
          <td>
            <span [class.available]="vehicle.isAvailable" [class.unavailable]="!vehicle.isAvailable">
              {{ vehicle.isAvailable ? 'Yes' : 'No' }}
            </span>
          </td>
          <td class="action-buttons">
            <button
              class="btn btn-edit"
              [disabled]="!vehicle.isAvailable"
              (click)="editVehicle(vehicle)"
            >
              Edit
            </button>
            <button
              class="btn btn-delete"
              [disabled]="!vehicle.isAvailable"
              (click)="deleteVehicle(vehicle)"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- üöó Add/Edit Vehicle Form -->
  <div class="vehicle-form">
    <h2>{{ isEditMode ? '‚úèÔ∏è Edit Vehicle' : '‚ûï Add New Vehicle' }}</h2>

    <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()">
      <!-- Vehicle Number -->
      <div class="form-group">
        <label for="vehicleNumber">Vehicle Number</label>
        <input
          id="vehicleNumber"
          type="text"
          class="form-control"
          formControlName="vehicleNumber"
          placeholder="Enter vehicle number"
        />
        <div *ngIf="submitted && vehicleForm.controls['vehicleNumber'].errors" class="text-danger">
          Vehicle number is required.
        </div>
      </div>

      <!-- Type -->
      <div class="form-group">
        <label for="type">Type</label>
        <input
          id="type"
          type="text"
          class="form-control"
          formControlName="type"
          placeholder="e.g., Truck, Car, Van"
        />
        <div *ngIf="submitted && vehicleForm.controls['type'].errors" class="text-danger">
          Type is required.
        </div>
      </div>

      <!-- Capacity -->
      <div class="form-group">
        <label for="capacity">Capacity</label>
        <input
          id="capacity"
          type="number"
          class="form-control"
          formControlName="capacity"
          placeholder="Enter capacity (e.g., 10)"
        />
        <div *ngIf="submitted && vehicleForm.controls['capacity'].errors" class="text-danger">
          Capacity is required and must be greater than 0.
        </div>
      </div>

      <!-- Availability -->
      <div class="form-group checkbox-group">
        <label>
          <input type="checkbox" formControlName="isAvailable" /> Available
        </label>
      </div>

      <!-- Buttons -->
      <div class="form-buttons">
        <button type="submit" class="btn btn-primary">
          {{ isEditMode ? 'Update Vehicle' : 'Add Vehicle' }}
        </button>
        <button type="button" class="btn btn-secondary" (click)="resetForm()" *ngIf="isEditMode">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
